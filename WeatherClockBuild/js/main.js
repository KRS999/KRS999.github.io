!function(){function e(t,r,a){function n(c,i){if(!r[c]){if(!t[c]){var s="function"==typeof require&&require;if(!i&&s)return s(c,!0);if(o)return o(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[c]={exports:{}};t[c][0].call(l.exports,function(e){return n(t[c][1][e]||e)},l,l.exports,e,t,r,a)}return r[c].exports}for(var o="function"==typeof require&&require,c=0;c<a.length;c++)n(a[c]);return n}return e}()({1:[function(e,t,r){"use strict";!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(e("./myScripts"))},{"./myScripts":2}],2:[function(e,t,r){"use strict";$(".search__country-city").search(function(){});var a=function(e){var t=e.tag,r=e.tagId,a=e.tagClass,n=e.tagAttr,o=e.tagAttrName,c=e.txt,i=e.tagSrc,s=void 0;return void 0!==t&&(s=document.createElement(t)),void 0!==c&&(document.createTextNode(c)&&s.append(c)),void 0!==r&&(s.id=r),void 0!==i&&(s.src=i),void 0!==a&&s.classList.add(a),void 0!==n&&s.setAttribute(n,o),s},n="7337ef647f92e090b123c584a8c97eff",o=1e3,c=document.querySelector(".weather"),i=document.querySelector(".weather__load"),s=document.querySelector(".weather__main-bottom img"),u=document.querySelector(".weather__degrees"),l=document.querySelector(".weather__city"),d=document.querySelector(".weather__sub"),h=(document.querySelector(".weather__header"),document.querySelector(".weather__error")),_=document.querySelector(".weather__search"),f=document.querySelector(".weather__search-input"),p=document.querySelector(".weather__search-btn"),m=document.querySelector(".weather__country"),v=document.querySelector(".weather__country ul"),g=document.querySelector(".weather__countre-title"),w=document.querySelector(".weather__country-back"),y=document.querySelector(".search__country-city"),S="",b=void 0,q=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],T=document.querySelector(".weather__day ul"),C=localStorage.getItem("userCity"),x=document.querySelector(".weather__main-top p");!function e(){var t=new Date,r=t.getHours(),a=t.getMinutes();r<10&&(r="0"+r),a<10&&(a="0"+a);setTimeout(function(){x.innerText=r+":"+a,e()},1e3)}();var k=function(e,t,r){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=t,a.onloadstart=function(){1!=r&&i.classList.remove("weather__load-off")},a.send()},A=function(e){k("https://raw.githubusercontent.com/KRS999/KRS999.github.io/master/country.json",function(){if(200==this.status){var t=JSON.parse(this.response);v.innerHTML="";for(var r in t){var n=t[r].name,c=t[r].code,i=a({tag:"li",tagAttr:"data-country",tagAttrName:n}),s=a({tag:"a",tagAttr:"href",tagAttrName:c,txt:n,tagClass:"country"});i.appendChild(s),v.appendChild(i)}R(v),H(),!0===e&&(g.innerText="Страна",y.value="",y.setAttribute("placeholder","Страна."),w.classList.remove("weather__country-back_on")),o=300}})};A(!1);var M=function(e,t){k("https://raw.githubusercontent.com/KRS999/KRS999.github.io/master/current.city.list.json",function(){if(200==this.status){var r=JSON.parse(this.response);v.innerHTML="";for(var n in r)if(r[n].country==e){var o=r[n].name,c=a({tag:"li",tagAttr:"data-city",tagAttrName:o}),i=a({tag:"a",tagAttr:"href",tagAttrName:o,txt:o,tagClass:"city"});c.appendChild(i),v.appendChild(c)}R(v),H(),y.value="",g.innerText=t,y.setAttribute("placeholder","Город..."),w.classList.add("weather__country-back_on")}})},N=function e(t,r,a){k("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid="+n,function(){if(200==this.status){E(t),C=localStorage.getItem("userCity");var a=JSON.parse(this.response),n=void 0,o=a.weather[0].icon,c=Math.round(a.main.temp-273);n=void 0!=C?C:a.name;var i=a.weather[0].main;s.src="img/weather-icons/"+o+".svg",u.innerText=c+"°c",l.innerText=n,"RU"==O||"UA"==O?(I(i),d.innerText=S):d.innerText=i,H(),!0===r&&m.classList.remove("weather__country-on");setTimeout(function(){e(C,!1,!0),D(C),console.log("Обновлено!")},5e3)}else{H(),h.classList.add("weather__error-on");var _=setTimeout(function(){h.classList.remove("weather__error-on"),clearTimeout(_)},3e3)}},a)},D=function(e){k("https://api.openweathermap.org/data/2.5/forecast?q="+e+"&appid="+n,function(){var e=JSON.parse(this.response);if(200===this.status){T.innerHTML="";for(var t in e.list){var r=e.list[t],n=r.weather[0].icon,o=Math.round(r.main.temp-273),c=r.weather[0].main,i=void 0,s=new Date(r.dt_txt),u=s.getHours(),l=s.getMinutes(),d=s.getDay(),h=void 0;u<10&&(u="0"+u),l<10&&(l="0"+l),"RU"==O||"UA"==O?(h=q[d],I(c),i=a({tag:"span",txt:S})):(h=L[d],i=a({tag:"span",txt:c}));var _=h+" "+u+":"+l,f=a({tag:"li"}),p=a({tag:"img",tagSrc:"img/weather-icons/"+n+".svg"}),m=a({tag:"p",txt:o+"°c"}),v=a({tag:"span",txt:_,tagClass:"date"});if(f.appendChild(p),f.appendChild(m),f.appendChild(i),f.appendChild(v),T.appendChild(f),t>=4)return!1}}else console.log(this.status)},!0)};c.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".weather__header a, .weather__header button");if(t)switch(t.classList[0]){case"weather__country-btn":m.classList.add("weather__country-on");break;case"weather__country-close":m.classList.remove("weather__country-on");break;case"weather__country-back":A(!0);break;case"weather__search-open":_.classList.add("weather__search-on"),U(),f.focus();break;case"weather__search-close":_.classList.remove("weather__search-on"),f.value="",U()}},!1),p.addEventListener("click",function(e){e.preventDefault();var t=f.value;N(t,!1),D(t)},!1),v.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("a");if(t){var r=t.attributes[1].nodeValue;switch(t.classList[0]){case"country":M(r,t.innerText);break;case"city":N(r,!0),D(r)}}},!1);var O=void 0;showUserCountry=void 0==C?function(e){b=e.city,O=e.countryCode,N(b,!1),D(b)}:function(e){O=e.countryCode,N(C,!1),D(C)};var R=function(e){e.scrollTo({top:0,behavior:"smooth"})},E=function(e){localStorage.setItem("userCity",e)},H=function(){var e=setTimeout(function(){i.classList.add("weather__load-off"),clearTimeout(e)},o)},U=function(){c.classList.toggle("weather-cover")},I=function(e){switch(e){case"Clouds":S="Облачно";break;case"Snow":S="Снег";break;case"Haze":S="Мгла";break;case"Clear":S="Ясно";break;case"Drizzle":S="Изморось";break;case"Rain":S="Дождь";break;case"Mist":S="Туман";break;default:S=e}}},{}]},{},[1]);